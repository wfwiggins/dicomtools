---

title: DICOM Tools


keywords: fastai
sidebar: home_sidebar

summary: "A Python toolkit for parsing and analyzing metadata from DICOM files."
description: "A Python toolkit for parsing and analyzing metadata from DICOM files."
nb_path: "index.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: index.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This project utilizes the <code>pydicom</code> and <code>fastcore</code> libraries. It borrows ideas (and some code) from the <code>fastai.medical.imaging</code> library (<a href="https://github.com/fastai/fastai/blob/master/fastai/medical/imaging.py">source</a>).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Install">Install<a class="anchor-link" href="#Install"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>pip install dicomtools</code></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-to-use">How to use<a class="anchor-link" href="#How-to-use"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Read a DICOM file:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">pydicom.data</span> <span class="kn">import</span> <span class="n">get_testdata_file</span>

<span class="n">fn</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">get_testdata_file</span><span class="p">(</span><span class="s2">&quot;MR_small.dcm&quot;</span><span class="p">))</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">fn</span><span class="o">.</span><span class="n">dcmread</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
<span class="n">ds</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Dataset.file_meta -------------------------------
(0002, 0000) File Meta Information Group Length  UL: 190
(0002, 0001) File Meta Information Version       OB: b&#39;\x00\x01&#39;
(0002, 0002) Media Storage SOP Class UID         UI: MR Image Storage
(0002, 0003) Media Storage SOP Instance UID      UI: 1.3.6.1.4.1.5962.1.1.4.1.1.20040826185059.5457
(0002, 0010) Transfer Syntax UID                 UI: Explicit VR Little Endian
(0002, 0012) Implementation Class UID            UI: 1.3.6.1.4.1.5962.2
(0002, 0013) Implementation Version Name         SH: &#39;DCTOOL100&#39;
(0002, 0016) Source Application Entity Title     AE: &#39;CLUNIE1&#39;
-------------------------------------------------
(0008, 0008) Image Type                          CS: [&#39;DERIVED&#39;, &#39;SECONDARY&#39;, &#39;OTHER&#39;]
(0008, 0012) Instance Creation Date              DA: &#39;20040826&#39;
(0008, 0013) Instance Creation Time              TM: &#39;185434&#39;
(0008, 0014) Instance Creator UID                UI: 1.3.6.1.4.1.5962.3
(0008, 0016) SOP Class UID                       UI: MR Image Storage
(0008, 0018) SOP Instance UID                    UI: 1.3.6.1.4.1.5962.1.1.4.1.1.20040826185059.5457
(0008, 0020) Study Date                          DA: &#39;20040826&#39;
(0008, 0021) Series Date                         DA: &#39;&#39;
(0008, 0022) Acquisition Date                    DA: &#39;&#39;
(0008, 0030) Study Time                          TM: &#39;185059&#39;
(0008, 0031) Series Time                         TM: &#39;&#39;
(0008, 0032) Acquisition Time                    TM: &#39;&#39;
(0008, 0050) Accession Number                    SH: &#39;&#39;
(0008, 0060) Modality                            CS: &#39;MR&#39;
(0008, 0070) Manufacturer                        LO: &#39;TOSHIBA_MEC&#39;
(0008, 0080) Institution Name                    LO: &#39;TOSHIBA&#39;
(0008, 0090) Referring Physician&#39;s Name          PN: &#39;&#39;
(0008, 0201) Timezone Offset From UTC            SH: &#39;-0400&#39;
(0008, 1010) Station Name                        SH: &#39;000000000&#39;
(0008, 1060) Name of Physician(s) Reading Study  PN: &#39;----&#39;
(0008, 1070) Operators&#39; Name                     PN: &#39;----&#39;
(0008, 1090) Manufacturer&#39;s Model Name           LO: &#39;MRT50H1&#39;
(0010, 0010) Patient&#39;s Name                      PN: &#39;CompressedSamples^MR1&#39;
(0010, 0020) Patient ID                          LO: &#39;4MR1&#39;
(0010, 0030) Patient&#39;s Birth Date                DA: &#39;&#39;
(0010, 0040) Patient&#39;s Sex                       CS: &#39;F&#39;
(0010, 1020) Patient&#39;s Size                      DS: None
(0010, 1030) Patient&#39;s Weight                    DS: &#34;80.0&#34;
(0018, 0010) Contrast/Bolus Agent                LO: &#39;&#39;
(0018, 0020) Scanning Sequence                   CS: &#39;SE&#39;
(0018, 0021) Sequence Variant                    CS: &#39;NONE&#39;
(0018, 0022) Scan Options                        CS: &#39;&#39;
(0018, 0023) MR Acquisition Type                 CS: &#39;3D&#39;
(0018, 0050) Slice Thickness                     DS: &#34;0.8&#34;
(0018, 0080) Repetition Time                     DS: &#34;4000.0&#34;
(0018, 0081) Echo Time                           DS: &#34;240.0&#34;
(0018, 0083) Number of Averages                  DS: &#34;1.0&#34;
(0018, 0084) Imaging Frequency                   DS: &#34;63.924339&#34;
(0018, 0085) Imaged Nucleus                      SH: &#39;H&#39;
(0018, 0086) Echo Number(s)                      IS: &#34;1&#34;
(0018, 0091) Echo Train Length                   IS: None
(0018, 1000) Device Serial Number                LO: &#39;-0000200&#39;
(0018, 1020) Software Versions                   LO: &#39;V3.51*P25&#39;
(0018, 1314) Flip Angle                          DS: &#34;90.0&#34;
(0018, 5100) Patient Position                    CS: &#39;HFS&#39;
(0020, 000d) Study Instance UID                  UI: 1.3.6.1.4.1.5962.1.2.4.20040826185059.5457
(0020, 000e) Series Instance UID                 UI: 1.3.6.1.4.1.5962.1.3.4.1.20040826185059.5457
(0020, 0010) Study ID                            SH: &#39;4MR1&#39;
(0020, 0011) Series Number                       IS: &#34;1&#34;
(0020, 0012) Acquisition Number                  IS: &#34;0&#34;
(0020, 0013) Instance Number                     IS: &#34;1&#34;
(0020, 0032) Image Position (Patient)            DS: [-83.9063, -91.2000, 6.6406]
(0020, 0037) Image Orientation (Patient)         DS: [1.0000, 0.0000, 0.0000, 0.0000, 1.0000, 0.0000]
(0020, 0052) Frame of Reference UID              UI: 1.3.6.1.4.1.5962.1.4.4.1.20040826185059.5457
(0020, 0060) Laterality                          CS: &#39;&#39;
(0020, 1040) Position Reference Indicator        LO: &#39;&#39;
(0020, 1041) Slice Location                      DS: &#34;0.0&#34;
(0020, 4000) Image Comments                      LT: &#39;Uncompressed&#39;
(0028, 0002) Samples per Pixel                   US: 1
(0028, 0004) Photometric Interpretation          CS: &#39;MONOCHROME2&#39;
(0028, 0010) Rows                                US: 64
(0028, 0011) Columns                             US: 64
(0028, 0030) Pixel Spacing                       DS: [0.3125, 0.3125]
(0028, 0100) Bits Allocated                      US: 16
(0028, 0101) Bits Stored                         US: 16
(0028, 0102) High Bit                            US: 15
(0028, 0103) Pixel Representation                US: 1
(0028, 0106) Smallest Image Pixel Value          SS: 0
(0028, 0107) Largest Image Pixel Value           SS: 4000
(0028, 1050) Window Center                       DS: &#34;600.0&#34;
(0028, 1051) Window Width                        DS: &#34;1600.0&#34;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Import a select subset of DICOM metadata into a <code>pandas.DataFrame</code>. The subset is defined as a <code>dict</code> in <code>dicomtools.core</code>. The DICOM Group <code>(0x0018)</code> is also included by default.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dicoms</span><span class="p">([</span><span class="n">fn</span><span class="p">])</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;fname&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SOPClassUID</th>
      <th>SOPInstanceUID</th>
      <th>StudyDate</th>
      <th>PatientID</th>
      <th>ContrastBolusAgent</th>
      <th>ScanningSequence</th>
      <th>SequenceVariant</th>
      <th>ScanOptions</th>
      <th>MRAcquisitionType</th>
      <th>SliceThickness</th>
      <th>...</th>
      <th>DeviceSerialNumber</th>
      <th>SoftwareVersions</th>
      <th>FlipAngle</th>
      <th>PatientPosition</th>
      <th>StudyInstanceUID</th>
      <th>SeriesInstanceUID</th>
      <th>SeriesNumber</th>
      <th>InstanceNumber</th>
      <th>WindowCenter</th>
      <th>WindowWidth</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>MR Image Storage</td>
      <td>1.3.6.1.4.1.5962.1.1.4.1.1.20040826185059.5457</td>
      <td>20040826</td>
      <td>4MR1</td>
      <td></td>
      <td>SE</td>
      <td>NONE</td>
      <td></td>
      <td>3D</td>
      <td>0.8</td>
      <td>...</td>
      <td>-0000200</td>
      <td>V3.51*P25</td>
      <td>90.0</td>
      <td>HFS</td>
      <td>1.3.6.1.4.1.5962.1.2.4.20040826185059.5457</td>
      <td>1.3.6.1.4.1.5962.1.3.4.1.20040826185059.5457</td>
      <td>1</td>
      <td>1</td>
      <td>600.0</td>
      <td>1600.0</td>
    </tr>
  </tbody>
</table>
<p>1 rows × 27 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

